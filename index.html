function buyAutoClick() {
      if (autoClickEnabled) {
        showMessage("Auto Click is already active.");
        return;
      }
      if (ruina >= 100000) {
        ruina -= 100000;
        autoClickEnabled = true;
        updateScore();
        showMessage("Auto Click activated! +" + clickPower + " RUINA every second.");
        startAutoClick();
        saveData();
      } else {
        showMessage("Not enough RUINA to activate Auto Click.");
      }
    }

    function startAutoClick() {
      setInterval(() => {
        ruina += clickPower;
        updateScore();
        saveData();
      }, 1000);
    }

    function updateScore() {
      document.getElementById('score').innerText = 'RUINA: ' + ruina;
    }

    function showMessage(text) {
      const msg = document.getElementById('message');
      msg.innerText = text;
      msg.style.opacity = 1;
      setTimeout(() => {
        msg.style.opacity = 0;
      }, 3000);
    }

    function saveData() {
      const data = {
        ruina,
        clickPower,
        upgradeCost,
        autoClickEnabled
      };
      localStorage.setItem("ruinaData", JSON.stringify(data));
    }

    function saveScore() {
      const name = document.getElementById("playerName").value.trim();
      if (!name) {
        showMessage("Enter your name to save score.");
        return;
      }

      const leaderboard = JSON.parse(localStorage.getItem("ruinaLeaderboard")) || [];
      leaderboard.push({ name, ruina });
      leaderboard.sort((a, b) => b.ruina - a.ruina);
      const top5 = leaderboard.slice(0, 5);
      localStorage.setItem("ruinaLeaderboard", JSON.stringify(top5));
      showLeaderboard();
    }

    function showLeaderboard() {
      const leaderboard = JSON.parse(localStorage.getItem("ruinaLeaderboard")) || [];
      const list = document.getElementById("leaderboard");
      list.innerHTML = "";
      leaderboard.forEach((entry, index) => {
        const li = document.createElement("li");
        li.innerText = ${index + 1}. ${entry.name} â€” ${entry.ruina} RUINA;
        list.appendChild(li);
      });
    }
  </script>
</body>
</html>
